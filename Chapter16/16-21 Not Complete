import javafx.animation.Animation;
import javafx.animation.KeyFrame;
import javafx.animation.Timeline;
import javafx.application.Application;
import javafx.beans.property.IntegerProperty;
import javafx.beans.property.SimpleIntegerProperty;
import javafx.geometry.Insets;
import javafx.geometry.Pos;
import javafx.scene.Scene;
import javafx.scene.control.Label;
import javafx.scene.control.TextField;
import javafx.scene.layout.VBox;
import javafx.scene.media.Media;
import javafx.scene.media.MediaPlayer;
import javafx.stage.Stage;
import javafx.util.Duration;

public class Exercise16_21 extends Application {

    private static final String AUDIO_URL = "https://liveexample.pearsoncmg.com/common/audio/anthem/anthem0.mp3";

    private Timeline timeline;
    private MediaPlayer mediaPlayer;

    @Override
    public void start(Stage stage) {
        TextField tfSeconds = new TextField();
        tfSeconds.setPromptText("Enter seconds and press Enter");

    tfSeconds.setPrefColumnCount(10);
        Label lbl = new Label("0");
        lbl.setMinWidth(220);
        lbl.setAlignment(Pos.CENTER);
        lbl.setStyle("-fx-font-size: 64px; -fx-font-weight: bold;");
        
        VBox root = new VBox(12, tfSeconds, lbl);
        root.setAlignment(Pos.CENTER);
        root.setPadding(new Insets(20));

        tfSeconds.setOnAction(e -> {stopAll(); // stop any prior timer/music
            
            int s;
            try{
                s= Integer.parseInt(tfSeconds.getText().trim());
                if (s < 0) throw new NumberFormatException();
            } catch (NumberFormatException ex)
        {
            lbl.textProperty().unbind();
            lbl.setText("0");
            return;
        }

        IntegerProperty remaining = new SimpleIntegerProperty(s);
            lbl.textProperty().unbind();

        lbl.textProperty().bind(remaining.asString());
        });
    }
 }
